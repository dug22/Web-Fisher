<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Fisher</title>
    <link th:href="@{/css/styles.css}" rel="stylesheet" type="text/css">
</head>
<body>
<div id="sidebar">
    <h2>Past Chats</h2>
    <ul id="pastChatsList">
    </ul>
</div>

<div id="app">
    <h1>🎣 Web Fisher</h1>
    <p class="tagline">"Cast your line and reel in the content!"</p>
    <div class="input-group">
        <input type="text" id="urlInput" placeholder="Enter Website URL">
        <button onclick="scrapeWebsite()">🎣 Cast Line</button>
    </div>
    <textarea id="domContent" placeholder="Caught Content (DOM will appear here)" readonly></textarea>

    <div class="model-switcher">
        <label for="modelSelector">Choose Model:</label>
        <select id="modelSelector">
            <option value="llama3.2">Llama 3.2</option>
            <option value="mistral">Mistral</option>
            <option value="llama3.1">Llama 3.1</option>
        </select>
        <button onclick="updateModel()">🤖 Save Model</button>
    </div>

    <textarea id="parseDescription" placeholder="Describe what you want to reel in"></textarea>
    <div class="process-catch-container">
        <button class="process-catch-button" onclick="parseContent()">🛠️ Process Catch</button>
    </div>

    <div class="chunk-selector">
        <label for="maxChunks">Choose Max Chunks:</label>
        <select id="maxChunks">
            <option value="6000">6000</option>
            <option value="8000">8000</option>
            <option value="10000">10000</option>
            <option value="12000">12000</option>
        </select>
    </div>

    <div id="parsedResult" class="result-box"></div>

    <label for="fileName">Choose File Name:</label>
    <input type="text" id="fileName" placeholder="Enter file name (e.g., result.txt)">
    <button id="downloadResultButton" onclick="downloadParsedResult()">📥 Download Result</button>
</div>

<script th:src="@{/js/script.js}"></script>
</body>
</html>
